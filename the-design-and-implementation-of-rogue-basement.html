<!DOCTYPE html>
<html lang="en">
<head>
    <title>Steve Landey – The Design and Implementation of Rogue Basement</title>

    <meta name="viewport" content="width=device-width">
    <meta charset="UTF-8">

    <link href='http://fonts.googleapis.com/css?family=Playfair+Display:400,700,400italic&subset=latin,latin-ext' rel='stylesheet'>
    <link href='http://fonts.googleapis.com/css?family=Playfair+Display+SC' rel='stylesheet'>
    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet'>

    <link rel="stylesheet" href="http://steveasleep.com/css/reset.css" />
    <link rel="stylesheet" href="http://steveasleep.com/css/pygments.css" />
    <link rel="stylesheet" href="http://steveasleep.com/css/style.css" />

    <meta charset="utf-8" />
      <link href="http://steveasleep.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Steve Landey Full Atom Feed" />
      <link href="http://steveasleep.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Steve Landey Full RSS Feed" />
    <!--
      <link href="http://steveasleep.com/feeds/articles.atom.xml" type="application/atom+xml" rel="alternate" title="Steve Landey Categories Atom Feed" />
    -->

    <script src="http://steveasleep.com/js/hyphenate.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="http://steveasleep.com/js/main.js"></script>

</head>

<body>
  <div id="layoutcontainer">
    <div id="pagecontainer">
      <header id="banner" class="body">
        <h1>
          <a href="http://steveasleep.com">
            <!--Steve Landey <strong></strong>-->
            <!--Steve Johnson&rsquo;s<br>partial creative output-->
            Steve Landey
          </a>
        </h1>
        <div class="header-links">
            <a href="mailto:randos@steve.steveasleep.com">Email</a>
            <a href="https://github.com/irskep">GitHub</a>
            <a href="https://www.youtube.com/channel/UC0lx9IhbHiM5XTcdISqttWQ">YouTube</a>
            <a href="https://slamjamsen.bandcamp.com">Bandcamp</a>
            <a href="https://irskep.itch.io">itch.io</a>
        </div>
      </header>
      <!--
      <nav id="menu">
        <ul>
          <li><strong>Writing:</strong>
              <a href="https://blog.steveasleep.com/">Blog</a>
              <a href="https://twitter.com/irskep">Twitter</a>
              <a href="http://steveasleep.com/articles/">Old blog</a>
              <a href="http://steveasleep.com/resume.html">Résumé</a>
          </li>
          <li><strong>Games:</strong>
              <a href="https://irskep.itch.io/dr-hallervorden">Dr. Hallervorden</a>
              <a href="https://irskep.itch.io/powerq">Power-Q</a>
              <a href="https://irskep.itch.io/roguebasement">Rogue Basement</a>
              <a href="http://steveasleep.com/games.html">17 more games</a>
          </li>
          <li><strong>Apps:</strong>
              <a href="http://sendimals.com">Sendimals</a>
              <a href="https://itunes.apple.com/us/app/hipmunk-travel-search/id419950680?mt=8">Hipmunk</a>
              <a href="https://itunes.apple.com/us/app/asana-organize-tasks-work/id489969512?mt=8">Asana</a>
          </li>
          <li><strong>Open Source:</strong>
              <a href="https://asana.github.io/Drawsana/">Drawsana</a>
              <a href="http://literallycanvas.com/">Literally Canvas</a>
              <a href="http://steveasleep.com/clubsandwich">clubsandwich</a>
              <a href="http://steveasleep.com/BearLibTerminal-Swift/">BearLibTerminal-Swift</a>
              <a href="http://steveasleep.com/jumbogrove">Jumbo Grove</a>
              <a href="https://sphinx-better-theme.readthedocs.io/en/latest/">sphinx-better-theme</a>
          </li>
        </ul>
      </nav>
      -->

  <section id="content" class="body"><article class="article">
      <header class="article-header">
    <h1 class="entry-title">
      <a href="http://steveasleep.com/the-design-and-implementation-of-rogue-basement.html" rel="bookmark" title="Permalink to The Design and Implementation of Rogue Basement">
        The Design and Implementation of Rogue Basement
      </a>
    </h1>
    <div class="post-info">
        <time class="published" datetime="2017-05-04T00:00:00-07:00">
          May 4, 2017
        </time>
    </div>
  </header>

    <div class="entry-content hyphenate"><p>This year I participated in <a href="https://ldjam.com">Ludum Dare 38</a>, a 48-hour game programming "competition." I've been thinking about trying my hand at a roguelike for a while now, and it seemed like the perfect opportunity to give it a shot. I made <a href="https://ldjam.com/events/ludum-dare/38/rogue-basement">Rogue Basement</a>, a bare-bones, single-level game with ASCII graphics.</p>
<p>In this article, I'll cover the game design decisions I made, how they affect the player's experience, and a bit of how they're implemented. <a href="https://github.com/irskep/rogue_basement">The source code</a> is extensively commented as well.</p>
<p><img alt="screenshot" src="http://steveasleep.com/img/rogue_basement/screenshot2.png" /></p>


<h1 id="what-is-a-roguelike">What is a roguelike?</h1>
<p>A "roguelike" is a game that is "like Rogue," a text-based game from the 1980s that looks like this:</p>
<p><img alt="Rogue_Screen_Shot_CAR.png" src="http://steveasleep.com/img/rogue_basement/257BD0D6AB2E10E523C6F74028CBC005.png" /></p>
<p>Typical features of these games include:</p>
<ul>
<li>Procedurally generated levels</li>
<li>Permadeath (one life)</li>
<li>Turn-based action</li>
<li>Top-down 2D graphics, often just text</li>
<li>Simulation-oriented; interesting stories arise from the game's rules and behavior</li>
<li>Very difficult to win without lots of practice</li>
</ul>
<p>The combination of these features makes the games fun to play over and over again. You have to play a lot to get good, but since the game is procedurally generated, you're always facing new situations. You have to use your wits to survive.</p>
<h1 id="environment">Environment</h1>
<p>I started on Friday night with a level generator. When you're time-constrained, you have to make very careful decisions about where to innovate, and I chose to stick to a roguelike trope for my basic layout: boxy rooms connected by narrow corridors, with doors where corridors meet rooms.</p>
<p>I could have placed a bunch of rooms randomly and made sure each one was connected to another, but it's tricky to use space efficiently that way. A common way to avoid this problem is to use a <strong>binary space partitioning tree.</strong></p>
<p>The basic idea here is that you take a rectangular area, like this:</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
+----------------------------------------+
</pre></div>


<p>Divide it along the X or Y axis at a random point, like this, and label each side:</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
|                 |                      |
|                 |                      |
|                 |                      |
|                 |                      |
|                 |                      |
|       a         |          b           |
|                 |                      |
|                 |                      |
|                 |                      |
|                 |                      |
|                 |                      |
+----------------------------------------+
</pre></div>


<p>Within each side, divide again on the other axis at a random point:</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
|                 |                      |
|       aa        |         ba           |
|                 |                      |
|-----------------|                      |
|                 |                      |
|                 |----------------------|
|                 |                      |
|                 |                      |
|       ab        |         bb           |
|                 |                      |
|                 |                      |
+----------------------------------------+
</pre></div>


<p>Divide some more...</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
|       |         |              |       |
|  aaa  |   aab   |     baa      |  bab  |
|       |         |              |       |
|-----------------|              |       |
|          |      |              |       |
|          |      |----------------------|
|          |      |       |              |
|   aba    | abb  |       |              |
|          |      |  bba  |     bbb      |
|          |      |       |              |
|          |      |       |              |
+----------------------------------------+
</pre></div>


<p>When the cells get too small, stop dividing. Inside each cell, decide how to use the space. The most basic strategy is to just completely fill each cell. Here's a screenshot I took when I got to this point:</p>
<p><img alt="Screenshot 2017-04-21 21.00.42.png" src="http://steveasleep.com/img/rogue_basement/F883885B86DCA6D8BD0F58083AB16166.png" /></p>
<p>But it's more interesting to mix it up with different sizes of rectangles.</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
| +--+  | +------+|   +------+   |       |
| |  |  | |      ||   |      |   |+-----+|
| +--+  | +------+|   |      |   ||     ||
|-----------------|   |      |   ||     ||
|          |+--+  |   +------+   |+-----+|
|          ||  |  |----------------------|
|   +----+ ||  |  |+-----+|              |
|   |    | ||  |  ||     ||+-----+       |
|   |    | |+--+  ||     |||     |       |
|   +----+ |      ||     |||     |       |
|          |      |+-----+|+-----+       |
+----------------------------------------+
</pre></div>


<p>You probably noticed I annotated all the cells with <code>aab</code> and such. We'll use that information to add corridors. For every pair of areas that share the first 2 letters of their identifier ("siblings in the tree"), we add an L-shaped corridor from a random point in one to a random point in the other. If a point is already inside a room, we'll leave it alone. If a point is on a wall, we'll turn it into a door.</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
| +--+    +------+|   +------+           |
| |  &#39;####&#39;      ||   |      |    +-----+|
| +--+    +------+|   |      &#39;####&#39;     ||
|-----------------|   |      |    |     ||
|           +--+  |   +------+    +-----+|
|     ######&#39;  |  |----------------------|
|   +-&#39;--+  |  |  |+-----+               |
|   |    |  |  |  ||     | +-----+       |
|   |    |  +--+  ||     &#39;#&#39;     |       |
|   +----+        ||     | |     |       |
|                 |+-----+ +-----+       |
+----------------------------------------+
</pre></div>


<p>Now we do it again, but the random point in each section will come from a random room in each respective section:</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
| +--+    +------+|   +------+           |
| |  &#39;####&#39;      ||   |      |    +-----+|
| +--+    +&#39;-----+|   |      &#39;####&#39;     ||
|          #      |   |      |    |     ||
|          #+--+  |   +-&#39;----+    +-----+|
|     ######&#39;  |  |     #                |
|   +-&#39;--+ #|  |  |+----&#39;+               |
|   |    | #|  |  ||     | +-----+       |
|   |    +##+--+  ||     &#39;#&#39;     |       |
|   +----+        ||     | |     |       |
|                 |+-----+ +-----+       |
+----------------------------------------+
</pre></div>


<p>And finally we'll do it again to the top-level pair:</p>
<div class="highlight"><pre><span></span>+----------------------------------------+
| +--+    +------+    +------+           |
| |  &#39;####&#39;      &#39;#   |      |    +-----+|
| +--+    +&#39;-----+#   |      &#39;####&#39;     ||
|          #      #   |      |    |     ||
|          #+--+  #   +-&#39;----+    +-----+|
|     ######&#39;  |  #     #                |
|   +-&#39;--+ #|  |  #+----&#39;+               |
|   |    | #|  |  #|     | +-----+       |
|   |    +##+--+  #&#39;     &#39;#&#39;     |       |
|   +----+         |     | |     |       |
|                  +-----+ +-----+       |
+----------------------------------------+
</pre></div>


<p>And here's how it looked during development:</p>
<p><img alt="Screenshot 2017-04-21 21.50.39.png" src="http://steveasleep.com/img/rogue_basement/B74AF325D250255EA7B86A64BE1AAFD0.png" /></p>
<p>We now have a few guarantees:</p>
<ul>
<li>All rooms are reachable from all other rooms.</li>
<li>No rooms intersect.</li>
<li>For a given pair of room groups (everything under <code>a</code> vs everything under <code>b</code>, for example), there is exactly one path between them.</li>
</ul>
<p>That last point has some good and bad ramifications. On the bad side, it worsens replayability, because the corridors are roughly organized the same way from game to game. I noticed this while playtesting; after 3 games it's obvious that the rooms generally have the same layout.</p>
<p>But those characteristics allowed me to take a simple approach to matching the theme of Ludum Dare 38: "A Small World." The first two splits don't have to be random; if they always split the sections evenly, then the map will have 4 even quadrants. I used this to create 4 distinct areas of increasing difficulty, so I could have a "one-level roguelike" with some actual progression.</p>
<p>I split up the map like this:</p>
<div class="highlight"><pre><span></span>+-------------------+--------------------+
|                   |                    |
|                   |                    |
|         aa        |         ba         |
|    (start here)   |     (end here)     |
|         |         |         ^          |
|---------|---------+---------|----------|
|         v         |         |          |
|                   |                    |
|         ab     -------&gt;     bb         |
|                   |                    |
|                   |                    |
+----------------------------------------+
</pre></div>


<p>The player starts in <code>aa</code> and moves to <code>ab</code>, then <code>bb</code>, then <code>ba</code>, where the goal is.</p>
<p>Here's another map from early development, which splits the map in this way:</p>
<p><img alt="Screenshot 2017-04-22 10.54.30.png" src="http://steveasleep.com/img/rogue_basement/2EE2A79C08555276A852AAEA4DBEA9C7.png" /></p>
<p>And here's one with just the first two partition lines, so you can see how the map is divided:</p>
<p><img alt="Screenshot 2017-04-22 10.56.58.png" src="http://steveasleep.com/img/rogue_basement/6F0FA752B4F575565A46B67ABF9120B6.png" /></p>
<p>And finally, here are the hallways that mark the transitions between each section:</p>
<p><img alt="Screenshot 2017-04-22 11.40.44.png" src="http://steveasleep.com/img/rogue_basement/360C018F2FCC756A1A59049EB36E67AA.png" /></p>
<p>Originally the colors were just for debugging, but I ended up leaving them in place because they signal specialness.</p>
<p>To add variety, I created a <code>rooms.csv</code> file to define a few room types:</p>
<div class="highlight"><pre><span></span>                                                      Monster   Item
Shape,      Difficulty, Monsters,   Chance, Color,    Density,  Density
box_random, 0.00,       *,          1.00,   #666666,  5.00,     5.00
box_random, 1.00,       *,          1.00,   #886666,  5.00,     4.00
box_random, 2.00,       *,          1.00,   #668866,  5.00,     3.00
box_random, 3.00,       *,          1.00,   #886688,  5.00,     2.00
box_full,   *,          verp_1      0.20,   #6666ff,  2.00,     4.00
                          |verp_2
                          |verp_3
                          |verp_4,
</pre></div>


<p>So within each quadrant, there is an 80% chance a room will have shape <code>box_random</code>, a quadrant-specific color, 5 monsters per 100 tiles, 5 items per 100 tiles, and allow any area-appropriate monster. But there is a 20% chance that the room will have the shape <code>box_full</code> (fill its entire BSP tree cell) and contain only verps, 2 per 100 tiles.</p>
<h1 id="inhabitants">Inhabitants</h1>
<h2 id="the-player">The player</h2>
<p>The first inhabitant of the world is the player, represented by an <code>@</code> (because the cell with the <code>@</code> is "where you are at"). All world inhabitants, henceforth called "monsters" (after all, humans are the real monsters) and defined in <code>monsters.csv</code>:</p>
<div class="highlight"><pre><span></span>id,     Char, Color,    Difficulty, Chance, Behaviors,          hp_max, strength, items
player, @,    #ffffff,  -1,         0.00,   keyboard_movement,  100,    5.00,
</pre></div>


<p>"Difficulty" determines which quadrant a monster can spawn in. The player is a special case, so the level generator ignores it. The player moves in response to keyboard events, has 100 hit points, and hits other monsters for 5 damage. (The combat system in Rogue Basement is not sophisticated. There is no randomness. Remember, I had to be careful about where to spend innovation-points!)</p>
<h2 id="npcs">NPCs</h2>
<p>Generally speaking, NPCs (non-player characters) in video games and tabletop RPGs are differentiated based on three important things:</p>
<ol>
<li>What they can do</li>
<li>How they behave</li>
<li>How many hits they take to kill, depending on what the player can do</li>
</ol>
<p>All of those things affect the player's behavior, strategy, and tactics. For a time-constrained game like Rogue Basement, I wanted to stick to the absolute basics.</p>
<p>The monsters are all defined in a CSV file (<code>monsters.csv</code>). The very first monster I added was <code>v</code>, the "verp":</p>
<div class="highlight"><pre><span></span>id,     Char, Color,    Difficulty, Chance, Behaviors,          hp_max, strength, items
verp,   v,    #ffff00,  0.00,       1.00,   beeline_visible,    10,     2.00,
                                            |random_walk
</pre></div>


<p>In human terms, that definition reads as: "The 'verp' monster, represented by a yellow <code>v</code>, appears in difficulty-zero rooms (first quadrant) with a random weight of 1.0, moves randomly unless it sees the player in which case it moves toward them, has 10 hit points, does 2 damage to the player when hitting, and has no items at the game start."</p>
<p>Behaviors are implemented as Python classes. After the player moves, each monster has a chance to move as well. Behaviors can be stacked, meaning that if one behavior decides it can't do anything, control can be passed to the next behavior in the list. So the verp's <code>beeline_visible</code> behavior either says "I see the player, I move toward them" or "I do not see the player, let some other behavior act this turn."</p>
<p>After adding the verps, I wanted to balance them out with a monster that attacks from a distance. I started by defining a behavior <code>range_5_visible</code> which acts like <code>beeline_visible</code>, but instead of trying to move onto the player's space, the monster tries to be exactly 5 tiles away. If the player approaches the monster, it will run away unless it is backed into a corner.</p>
<p>I attached this behavior to a new enemy type, the <code>wibble</code> (<code>w</code>). But a monster that only runs away isn't very challenging! So it was time to deepen the simulation by adding items.</p>
<p>Items have simple characteristics:</p>
<ul>
<li>Monsters (including the player) can hold them in an unlimited inventory.</li>
<li>When a monster dies, its items are dropped on the ground.</li>
</ul>
<p>I only had time to add one kind of item: the rock (<code>*</code>). The rock has one use: you can throw it. When you do, the game spawns a new enemy with this definition:</p>
<div class="highlight"><pre><span></span>id,             Char, Color,    Difficulty, Chance, Behaviors,        hp_max, strength, items
rock_in_flight, *,    #c1a073,  -1,         0,      path_until_hit,   2,      2,
</pre></div>


<p>Since its "difficulty" is -1, it never spawns in the initial level. Its only behavior is to move along a path until it hits a wall, a monster, or the player. It has 2 hit points.</p>
<p>This is a special item, so the game ignores the <code>strength</code> and <code>items</code> attributes in the CSV file. Instead, the <code>rock_in_flight</code>'s strength value is taken from <em>the monster that threw the rock</em>, and the original rock item is added to the <code>rock_in_flight</code>'s inventory! When the <code>rock_in_flight</code>'s <code>path_until_hit</code> behavior detects that its life is over, the <code>rock_in_flight</code> "dies" and the contents of its inventory (the <code>rock</code>) are dropped on the ground.</p>
<p>Now that I had throwable rocks, I could put a couple in each <code>wibble</code>'s inventory and give them the ability to throw them. The <code>wibble</code> definition looked like this:</p>
<div class="highlight"><pre><span></span>id,     Char, Color,    Difficulty, Chance, Behaviors,          hp_max, strength, items
wibble, w,    #90582c,  0.00,       20,     range_5_visible     10,     2,        ROCKx1
                                              |throw_rock_slow
                                              |sleep,
</pre></div>


<p>I added a "sleep" behavior to differentiate wibbles from verps. When the player isn't around, verps are hyperactive and run around randomly; wibbles sit and meditate. It seemed in keeping with their fighting styles.</p>
<p>That all worked great, but when wibbles ran out of rocks, the game got really easy! So I added another behavior, <code>pick_up_rocks</code>, which makes a wibble either move toward any adjacent rocks, or pick them up if it's standing on one.</p>
<p>The "conservation of rocks" principle introduces a new tactic into the game: players can pick up all the rocks to deprive the wibbles of their ammunition. Fortunately the player's backpack is infinitely large!</p>
<h2 id="stun-effect">Stun effect</h2>
<p>At this point, combat consisted of punching verps and dodging or punching rocks. (Yeah, you can punch rocks! They are just monsters after all!) I wanted to make it possible to avoid almost all damage, though, by understanding the game's systems, and the verps made it too hard to do that by being relentless.</p>
<p>So I made every hit by the player stun the target monster for 2 turns. This is done using a behavior called <code>stunnable</code>, which just says "if I've been hit within the last 2 turns, turn blue and do nothing."</p>
<p>For experienced roguelike players this makes the game easy once you figure it out, but I believe it's still a rewarding experience to figure it out in the first place. It is very, very difficult to make a game by yourself in 48 hours that has more than a few minutes of worthwhile gameplay, so I was aiming to just make those few minutes as good as possible and then let players feel like they could put it down after a good experience.</p>
<h2 id="healing">Healing</h2>
<p>To make each section its own challenge, I decided to have the colored hallways between sections heal the player completely. This is another difficulty decrease that I could probably have left out, but I decided to err on the side of easy because I knew I had some user interface issues and wanted to be "extra" fair to players.</p>
<h1 id="unintended-consequences">Unintended consequences</h1>
<p>The simulation has a few features I didn't intend, but that I don't regret—that's half the fun!</p>
<p>These features mainly have to do with rocks, and the fact that when you throw them, they become monsters. Specifically:</p>
<ul>
<li>You can punch rocks out of the air.</li>
<li>If you throw a rock, and then walk in its direction, you will punch it dead before it has a chance to move.</li>
<li>If two wibbles throw rocks at you at the same time, they may collide in midair and die.</li>
<li>You can embed rocks in walls. (Okay, not so happy about this one.)</li>
</ul>
<h1 id="atmosphere">Atmosphere</h1>
<h2 id="music">Music</h2>
<p>I took 90 minutes to write 4 tracks, adding up to 11 minutes of music. Each map quadrant plays one of the tracks. <a href="https://soundcloud.com/irskep/sets/rogue-basement-ost">You can listen to them here.</a></p>
<p>The music fades down when you're in a colored hallway and fades up again when you enter a room in a map quadrant. My intention is to build tension and give the player a clue, in addition to the different colors, that the monsters are about to get tougher.</p>
<h2 id="title-screen">Title screen</h2>
<p>I made this adorable title screen, and reused the ASCII art in the manual:</p>
<p><img alt="title screen" src="http://steveasleep.com/img/rogue_basement/screenshot1.png" /></p>
<h1 id="final-scores">Final scores</h1>
<p>There were 1,104 "compo" (48-hour, one person) games, of which 549 had enough ratings to get scored and ranked. Here are the scores for Rogue Basement. Percentiles are within the 549 ranked games.</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Rank</th>
<th>Percentile</th>
<th>Score</th>
<th># ratings</th>
</tr>
</thead>
<tbody>
<tr>
<td>Overall</td>
<td>135</td>
<td>75.4</td>
<td>3.667</td>
<td>47</td>
</tr>
<tr>
<td>Fun</td>
<td>179</td>
<td>67.4</td>
<td>3.409</td>
<td>46</td>
</tr>
<tr>
<td>Innovation</td>
<td>379</td>
<td>31.0</td>
<td>2.841</td>
<td>46</td>
</tr>
<tr>
<td>Theme</td>
<td>398</td>
<td>25.5</td>
<td>2.977</td>
<td>46</td>
</tr>
<tr>
<td>Graphics</td>
<td>374</td>
<td>31.9</td>
<td>2.932</td>
<td>46</td>
</tr>
<tr>
<td>Audio</td>
<td>24</td>
<td>95.7</td>
<td>4.000</td>
<td>44</td>
</tr>
<tr>
<td>Humor</td>
<td>157</td>
<td>71.5</td>
<td>3.000</td>
<td>42</td>
</tr>
<tr>
<td>Mood</td>
<td>94</td>
<td>82.9</td>
<td>3.659</td>
<td>43</td>
</tr>
</tbody>
</table>
<p>I'm most interested in ratings as a measurement of how well-spent my effort
was in each area of the game. When you only have 48 hours to make a game, you
get on a path early and it's hard to get off of it if something isn't working.
That adds an enormous luck factor to things like "Fun" and "Innovation."</p>
<p>It looks like the soundtrack was my secret weapon. Audio got a great score, and
I'm guessing that gave me a boost in Mood and Overall.</p>
<p>The Theme score is very low, which I'm a little surprised at but also don't
care about.</p>
<p>Innovation was one of my dump stats this round, so its low score makes sense too.
I did make a very by-the-book roguelike.</p>
<p>Graphics was my other dump stat in that I used ASCII, but I'm a little hurt
that people didn't appreciate the aesthetic more.</p>
<p>Humor was a wildcard. I mostly use humor in my games to
<a href="http://tvtropes.org/pmwiki/pmwiki.php/Main/LampshadeHanging">lampshade</a>
silly situations or mechanics. Rogue Basement just has some flavor text and
ASCII art to justify your situation. I guess people appreciated it. (There's
also some not-so-great English in the log messages, and that might have played
a part.)</p>
<h1 id="takeaways">Takeaways</h1>
<h2 id="scope">Scope</h2>
<p>Features I had planned to add but didn't:</p>
<ul>
<li>Multiple basements and an overworld</li>
<li>Health potions</li>
<li>Fire/ice missiles</li>
<li>2 more enemy types to use those missiles</li>
</ul>
<p>From past experience, I knew that scope was always a problem, so I tackled the highest-priority mechanics first, which means I ended up with a real game instead of a tech demo.</p>
<h2 id="difficulty-is-hard">Difficulty is hard</h2>
<p>It's very difficult to tune for difficulty without time to playtest and fix things! I kept making the game easier because developers almost always make games too hard on the first pass, and I wanted to overcompensate to make it more likely that people would finish it in one sitting.</p>
<p>The feedback so far seems to indicate that the difficulty is just about right. No one says it's too hard, and some people say they've been playing for 25 minutes(!!!) and haven't beaten it yet.</p>
<h2 id="csvs-and-roguelikes-are-best-friends">CSVs and roguelikes are best friends</h2>
<p>Every time I moved some data out of Python code into a CSV file, it got 10x easier to add new content, but not for the reason you might thing. Yes, copy/pasting CSV rows is an easy way to add new things, but the act of <em>designing</em> the file format made me think about how the whole program worked and put flexible systems in place that would let me do more cool stuff later.</p>
<p>I can already see the limitations of CSV, so I think next I'm going to switch to CSV, but with YAML values for each column. I really like the efficiency of editing CSV, but it's not flexible enough to do what I want.</p>
<h2 id="preparation-matters">Preparation matters</h2>
<p>The week before Ludum Dare 38, I worked on an ASCII user interface and roguelike development framework. I didn't want to spend a bunch of time making a crappy title screen, I wanted to focus on gameplay! By writing and releasing the framework, I had all the relevant APIs in memory as soon as the competition started, and I could get going immediately on the important stuff.</p>
<h2 id="music-makes-a-difference">Music makes a difference</h2>
<p>The music is really simple, but it adds a huge amount of atmosphere and is a strong signal of progression. It was time well spent, especially since when I made it (the middle of the night) my programmer brain wasn't working anymore. Most of the positive reviews mention the music.</p>
<h2 id="ascii-helps-you-focus-on-mechanics-but-has-a-score-cost">ASCII helps you focus on mechanics but has a score cost</h2>
<p>Since ASCII is traditional for roguelikes, I thought I wouldn't lose too many points in graphics. In my opinion, good ASCII is better than bad pixel art. But I was wrong, and I was ranked in the bottom 35% of scored games.</p>
<p>Even though I lost points on graphics, I'm glad I went with ASCII, because it gave me a lot more time to focus on mechanics and the design of my engine. I would consider using ASCII again next time, graphics score be damned.</p>
<h2 id="making-videos-ameliorates-loneliness">Making videos ameliorates loneliness</h2>
<p>Whenever I felt like I hit a milestone, I did a quick <a href="https://www.youtube.com/playlist?list=PLuzdytAQSpVhUCVgJvtgDNEQ2DI41KiKr">video update</a>. I didn't really expect anyone to watch them, but it helped give me perspective on my progress. And it simulated human interaction a little bit, which was nice because I was alone in the house for the entire weekend.</p>
<h2 id="the-tech-stack-works">The tech stack works</h2>
<p>I wrote the game in Python 3. For graphics, I used <a href="http://foo.wyrd.name/en:bearlibterminal">BearLibTerminal</a>. I played the music with <a href="https://pyglet.org">pyglet</a>. And for assorted algorithms, state management, and user interface features, I used my own <a href="http://steveasleep.com/clubsandwich/">clubsandwich</a> library. To package the game for OS X and Windows, I used <a href="http://www.pyinstaller.org/">PyInstaller</a>.</p>
<p>This combination works really well. The main downside is that calling C libraries from Python is slow, and I had to do some optimiziation work to get a decent frame rate. In the future, I might switch the graphics over to use pyglet entirely, but I really like using BearLibTerminal because of its limitations. You get a grid of tiles and nothing else. It's liberating.</p>
<h1 id="conclusion">Conclusion</h1>
<p>This is probably the most fun game I have ever made, and ties for most fun making a game alongside my last Ludum Dare success.</p>
<p>Thanks for reading! You can watch all this happen at super-speed in this timelapse video:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Jo8d34N3tdY?list=PLuzdytAQSpVhUCVgJvtgDNEQ2DI41KiKr" frameborder="0" allowfullscreen></iframe></div>
  </article></section>
    </div>

    <!--
    <nav id="sidebar">
      <ul>
          <h3>Writing</h3>
            <li><a href="https://blog.steveasleep.com/">Blog</a></li>
            <li><a href="https://twitter.com/irskep">Twitter</a></li>
            <li><a href="http://steveasleep.com/articles/">Old blog</a></li>
            <li><a href="http://steveasleep.com/resume.html">Résumé</a></li>
          <h3>Games</h3>
            <li><a href="https://irskep.itch.io/dr-hallervorden">Dr. Hallervorden</a></li>
            <li><a href="https://irskep.itch.io/powerq">Power-Q</a></li>
            <li><a href="https://irskep.itch.io/roguebasement">Rogue Basement</a></li>
            <li><a href="http://steveasleep.com/games.html">17 more games</a></li>
          <h3>Apps</h3>
            <li><a href="http://sendimals.com">Sendimals</a></li>
            <li><a href="https://itunes.apple.com/us/app/hipmunk-travel-search/id419950680?mt=8">Hipmunk</a></li>
            <li><a href="https://itunes.apple.com/us/app/asana-organize-tasks-work/id489969512?mt=8">Asana</a></li>
          <h3>Open Source</h3>
            <li><a href="https://asana.github.io/Drawsana/">Drawsana</a></li>
            <li><a href="http://literallycanvas.com/">Literally Canvas</a></li>
            <li><a href="http://steveasleep.com/clubsandwich">clubsandwich</a></li>
            <li><a href="http://steveasleep.com/BearLibTerminal-Swift/">BearLibTerminal-Swift</a></li>
            <li><a href="http://steveasleep.com/jumbogrove">Jumbo Grove</a></li>
            <li><a href="https://sphinx-better-theme.readthedocs.io/en/latest/">sphinx-better-theme</a></li>
      </ul>
    </nav>
    -->

  </div>

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4517625-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</body>
</html>