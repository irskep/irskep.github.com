{% extends "base.html" %}
{%- from "macros.html" import post_header with context %}
{%- from "macros.html" import post_content with context %}

  {%- if not category %}
    {%- set category = MAIN_PAGE_CATEGORY_NAME %}
    {%- set these_articles = GET_MAIN_PAGE_ARTICLES(
      categories) %}
  {%- else -%}
    {%- set these_articles = articles_page.object_list %}
  {%- endif %}

{%- block content %}
  <section id="content">

    {%- block content_title %}
      <h1 class="category-title">{{ category }}</h1>
    {%- endblock %}

    {%- set first_article = these_articles[0] %}
    {%- set article = first_article %}
    <article class="article featured-article">
      {{- post_header(article) }}
      {{- post_content(article) }}
    </article>


    <ul id="post-list">
      {%- for article in these_articles[1:] %}
        <li>{{ post_header(article) }}</li>
      {%- endfor %}
    </ul>

  {%- include 'pagination.html' %}

  </section><!-- /#content -->
{%- endblock content %}
